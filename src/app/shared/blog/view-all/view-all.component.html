<div class="card-container" *ngFor="let item of allPosts">
  <mat-card class="post-card">
    <!-- Close Button -->
    <div class="close-button">
      <button mat-icon-button color="warn" (click)="deletePost(item.id)">
        <mat-icon>delete</mat-icon>
      </button>
    </div>

    <!-- Header with Avatar and Post Info -->
    <mat-card-header>
      <div mat-card-avatar class="avatar-container">
        <img [src]="item.avatar" alt="Avatar" class="avatar-img" (error)="item.avatar = 'assets/img/default-avatar.jpg'">
      </div>
      <div class="post-header">
        <mat-card-title class="post-title">{{ item.title }}</mat-card-title>
        <mat-card-subtitle class="post-subtitle">
          Posted By: {{ item.postedBy }} | Category: {{ item.category }} | Posted On: {{ item.date | date: 'medium' }}
        </mat-card-subtitle>
      </div>
    </mat-card-header>

    <!-- Post Content and Image -->
    <mat-grid-list cols="2" rowHeight="150px"> <!-- Reduced rowHeight from 200px to 150px -->
      <mat-grid-tile>
        <div class="image-section">
          <img *ngIf="item.img" [src]="'data:image/jpeg;base64,' + item.img" alt="Post Image" class="post-image" (error)="item.img = null" />
          <div *ngIf="!item.img" class="no-image">No image available</div>
        </div>
      </mat-grid-tile>
      <mat-grid-tile>
        <div class="content-section">
          <p class="post-text">{{ item.content }}</p>
        </div>
      </mat-grid-tile>
    </mat-grid-list>

    <!-- Reactions and Actions -->
    <mat-card-actions class="reaction-actions">
      <div class="reaction-group">
        <button mat-raised-button style="margin-left: 5px;" class="reaction-button">
          <mat-icon>favorite</mat-icon> {{ item.likeCount || 0 }}
        </button>
        <button mat-raised-button style="margin-left: 5px;" class="reaction-button">
          <mat-icon>mood</mat-icon> {{ item.laught || 0 }}
        </button>
        <button mat-raised-button style="margin-left: 5px;" class="reaction-button">
          <mat-icon>mood_bad</mat-icon> {{ item.angry || 0 }}
        </button>
        <button mat-raised-button style="margin-left: 5px;" class="reaction-button">
          <mat-icon>remove_red_eye</mat-icon> {{ item.viewCount || 0 }}
        </button>
        <button mat-raised-button style="margin-left: 5px;" class="action-button" routerLink="/view-post/{{ item.id }}">
          View Post
        </button>
        <button mat-raised-button style="margin-left: 5px;" class="action-button" routerLink="/update-post/{{ item.id }}">
          Update Post
        </button>
      </div>
    </mat-card-actions>
  </mat-card>
</div>