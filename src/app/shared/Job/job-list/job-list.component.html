<div class="job-container">
  <div class="header-container">
    <h2>Available Job Listings</h2>
    <div class="search-container">
      <input 
        type="text" 
        placeholder="Search jobs..." 
        [(ngModel)]="searchTerm" 
        (input)="filterJobs()"
      />
    </div>
  </div>

  <div class="job-grid">
    <mat-card 
      *ngFor="let job of filteredJobs" 
      class="job-card" 
      [ngClass]="{'open-job': job.status === 'Open', 'closed-job': job.status === 'Closed'}"
    >
      <mat-card-header>
        <mat-card-title>{{ job.title }}</mat-card-title>
        <mat-card-subtitle>{{ job.department }} - {{ job.location }}</mat-card-subtitle>
      </mat-card-header>
      
      <mat-card-content>
        <p class="description">{{ job.description || 'No description available.' }}</p>
        <p class="posted-date">Posted: {{ job.postedDate | date:'mediumDate' }}</p>
        <p class="status">Status: {{ job.status }}</p>
      </mat-card-content>
      
      <mat-card-actions class="actions">
        <button 
          mat-raised-button 
          color="accent" 
          [disabled]="job.status === 'Closed'" 
          (click)="apply(job)"
        >
          Apply Now
        </button>
        <button 
          mat-button 
          color="primary" 
          [routerLink]="['/edit-job', job.jobId]"
        >
          Edit
        </button>
        <button 
          mat-button 
          color="warn" 
          (click)="deleteJob(job.jobId)"
        >
          Delete
        </button>
      </mat-card-actions>
    </mat-card>
    
    <div class="no-jobs" *ngIf="filteredJobs.length === 0">
      <p>No job listings available at this time.</p>
    </div>
  </div>
</div>