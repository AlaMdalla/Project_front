<app-sidebar></app-sidebar>
<div id="content">
  <div class="competition-container">
    <div class="card">
      <h2>
        <i class="fas fa-chalkboard-teacher title-icon"></i> Ajouter une Formation
      </h2>
      <form [formGroup]="evaluationForm" (ngSubmit)="onSubmit()" class="post-form">
        <!-- Training Details -->
        <div class="form-group">
          <label for="trainingId">ID de la Formation :</label>
          <input 
            id="trainingId" 
            formControlName="trainingId" 
            type="number" 
            placeholder="Entrez l'ID de la formation" 
            required />
          <span class="input-icon"><i class="fas fa-id-badge"></i></span>
        </div>

        <div class="form-group">
          <label for="description">Description de la Formation :</label>
          <input 
            id="description" 
            formControlName="description" 
            type="text" 
            placeholder="Entrez la description de la formation" 
            required />
          <span class="input-icon"><i class="fas fa-align-left"></i></span>
        </div>

        <div class="form-group">
          <label for="type">Type de Formation :</label>
          <input 
            id="type" 
            formControlName="type" 
            type="text" 
            placeholder="e.g., Atelier, Cours en ligne" 
            required />
          <span class="input-icon"><i class="fas fa-tag"></i></span>
        </div>

        <div class="form-group">
          <label for="evaluation_duration">Durée de la Formation :</label>
          <input 
            id="evaluation_duration" 
            formControlName="evaluation_duration" 
            type="text" 
            placeholder="e.g., 2 heures, 1 jour" 
            required />
          <span class="input-icon"><i class="fas fa-clock"></i></span>
        </div>

        <div class="form-group">
          <label for="score">Score Maximal :</label>
          <input 
            id="score" 
            formControlName="score" 
            type="number" 
            placeholder="Entrez le score maximal" 
            required />
          <span class="input-icon"><i class="fas fa-star"></i></span>
        </div>

        <div class="form-group">
          <label for="createdAt">Date de Début :</label>
          <input 
            id="createdAt" 
            formControlName="createdAt" 
            type="date" 
            required />
          <span class="input-icon"><i class="fas fa-calendar-alt"></i></span>
        </div>

        <div class="form-group">
          <label for="certificat">Offre un Certificat :</label>
          <input 
            id="certificat" 
            formControlName="certificat" 
            type="checkbox" />
        </div>

        <!-- Questions Section -->
        <h3><i class="fas fa-question-circle section-icon"></i> Questions</h3>
        <div formArrayName="questions" class="questions-container">
          <div *ngFor="let question of questions.controls; let i=index" [formGroupName]="i" class="question-box">
            <div class="form-group">
              <label>Question {{ i + 1 }} :</label>
              <input 
                formControlName="questionText" 
                placeholder="Entrez la question" 
                required />
              <span class="input-icon"><i class="fas fa-question"></i></span>
            </div>

            <div class="form-group">
              <label>Réponse Attendue :</label>
              <input 
                formControlName="response" 
                placeholder="Entrez la réponse attendue" 
                required />
              <span class="input-icon"><i class="fas fa-comment"></i></span>
            </div>

            <div class="question-actions">
              <button type="button" class="btn-small delete" (click)="removeQuestion(i)">
                <i class="fas fa-trash"></i> Supprimer Question
              </button>
            </div>
          </div>
        </div>

        <!-- Form Actions -->
        <div class="button-container">
          <button type="button" class="btn-primary" (click)="addQuestion()">
            <i class="fas fa-plus"></i> Ajouter une Question
          </button>
          <button type="submit" class="btn-primary">
            <i class="fas fa-save"></i> Enregistrer la Formation
          </button>
        </div>

      </form>
    </div>
  </div>
</div>